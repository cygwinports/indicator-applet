--- origsrc/indicator-applet-12.10.1/src/applet-main.c	2012-09-19 11:17:44.000000000 -0500
+++ src/indicator-applet-12.10.1/src/applet-main.c	2016-12-02 11:04:38.758238500 -0600
@@ -30,21 +30,27 @@ with this program.  If not, see <http://
 #include "libindicator/indicator-object.h"
 #include "tomboykeybinder.h"
 
+#ifdef __CYGWIN__
+#define LIBSO(name) "cyg" name ".dll"
+#else
+#define LIBSO(name) "lib" name ".so"
+#endif
+
 static const gchar * indicator_order[][2] = {
-  {"libappmenu.so", NULL},                    /* indicator-appmenu" */
-  {"libapplication.so", NULL},                /* indicator-application" */
-  {"libprintersmenu.so", NULL},               /* indicator-printers */
-  {"libsyncindicator.so", NULL},              /* indicator-sync */
-  {"libapplication.so", "gsd-keyboard-xkb"},  /* keyboard layout selector */
-  {"libmessaging.so", NULL},                  /* indicator-messages */
-  {"libpower.so", NULL},                      /* indicator-power */
-  {"libapplication.so", "bluetooth-manager"}, /* bluetooth manager */
-  {"libnetwork.so", NULL},                    /* indicator-network */
-  {"libnetworkmenu.so", NULL},                /* indicator-network */
-  {"libapplication.so", "nm-applet"},         /* network manager */
-  {"libsoundmenu.so", NULL},                  /* indicator-sound */
-  {"libdatetime.so", NULL},                   /* indicator-datetime */
-  {"libsession.so", NULL},                    /* indicator-session */
+  {LIBSO("appmenu"), NULL},                    /* indicator-appmenu" */
+  {LIBSO("application"), NULL},                /* indicator-application" */
+  {LIBSO("printersmenu"), NULL},               /* indicator-printers */
+  {LIBSO("syncindicator"), NULL},              /* indicator-sync */
+  {LIBSO("application"), "gsd-keyboard-xkb"},  /* keyboard layout selector */
+  {LIBSO("messaging"), NULL},                  /* indicator-messages */
+  {LIBSO("power"), NULL},                      /* indicator-power */
+  {LIBSO("application"), "bluetooth-manager"}, /* bluetooth manager */
+  {LIBSO("network"), NULL},                    /* indicator-network */
+  {LIBSO("networkmenu"), NULL},                /* indicator-network */
+  {LIBSO("application"), "nm-applet"},         /* network manager */
+  {LIBSO("soundmenu"), NULL},                  /* indicator-sound */
+  {LIBSO("datetime"), NULL},                   /* indicator-datetime */
+  {LIBSO("session"), NULL},                    /* indicator-session */
   {NULL, NULL}
 };
 
@@ -964,27 +964,27 @@ applet_fill_cb (PanelApplet * applet, co
     const gchar * name;
     while ((name = g_dir_read_name(dir)) != NULL) {
 #ifdef INDICATOR_APPLET_APPMENU
-      if (g_strcmp0(name, "libappmenu.so")) {
+      if (g_strcmp0(name, LIBSO("appmenu"))) {
         continue;
       }
 #else
-      if (!g_strcmp0(name, "libappmenu.so")) {
+      if (!g_strcmp0(name, LIBSO("appmenu"))) {
         continue;
       }
 #endif
 #ifdef INDICATOR_APPLET
-      if (!g_strcmp0(name, "libsession.so")) {
+      if (!g_strcmp0(name, LIBSO("session"))) {
         continue;
       }
-      if (!g_strcmp0(name, "libme.so")) {
+      if (!g_strcmp0(name, LIBSO("me"))) {
         continue;
       }
-      if (!g_strcmp0(name, "libdatetime.so")) {
+      if (!g_strcmp0(name, LIBSO("datetime"))) {
         continue;
       }
 #endif
 #ifdef INDICATOR_APPLET_SESSION
-      if (g_strcmp0(name, "libsession.so") && g_strcmp0(name, "libme.so")) {
+      if (g_strcmp0(name, LIBSO("session")) && g_strcmp0(name, LIBSO("me"))) {
         continue;
       }
 #endif
